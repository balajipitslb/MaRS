package its.mnr.mp5.model;

import its.mnr.mp5.baseclass.ExtendedApplicationModuleImpl;
import its.mnr.mp5.baseclass.ExtendedViewObjectImpl;
import its.mnr.mp5.model.common.PORecvDataControl;
import its.mnr.mp5.vo.po.POTransactionsCompRcptsImpl;
//import its.mnr.mp5.vo.po.POTransactionsCompanyReceiptsImpl;
import its.mnr.mp5.vo.po.POTransactionsRecvViewImpl;
import its.mnr.mp5.vo.po.POTransactionsRetViewImpl;
import its.mnr.mp5.vo.po.POTranslinesCompRcptsImpl;
import its.mnr.mp5.vo.po.POTranslinesViewImpl;
import its.mnr.mp5.vo.po.POTranslinesViewRowImpl;
import its.mnr.mp5.vo.po.POrderlinesViewImpl;

import its.mnr.mp5.vo.po.POrdersViewImpl;

import java.util.Iterator;

import oracle.jbo.Key;
import oracle.jbo.Row;
import oracle.jbo.RowIterator;
import oracle.jbo.RowSetIterator;
import oracle.jbo.ViewObject;
import oracle.jbo.server.ViewLinkImpl;
import oracle.jbo.server.ViewObjectImpl;
import oracle.jbo.server.ViewRowImpl;
// ---------------------------------------------------------------------
// ---    File generated by Oracle ADF Business Components Design Time.
// ---    Mon Jan 20 14:57:33 PST 2014
// ---    Custom code may be added to this class.
// ---    Warning: Do not modify method signatures of generated methods.
// ---------------------------------------------------------------------
public class PORecvDataControlImpl extends ExtendedApplicationModuleImpl implements PORecvDataControl {

    public void initCompanyRcpts() {
        ViewObjectImpl vo = this.getPOTransactionsCompRcpts();
        vo.executeEmptyRowSet();
        Row row = vo.createRow();
        vo.insertRow(row);
        vo.setCurrentRow(row);
    }
    
    public void clearFullyRecd() {
            ////System.out.println("Clear Fully Received parts:Start ");
            Double sOutstanding;
            String sEntityState;
            //RowSetIterator rit = getPOTranslinesRecvView().createRowSetIterator(null);
            RowSetIterator rit = getPOTranslinesRecvView().getRowSetIterator();
            rit.reset();
            ViewObject vo = getPOTranslinesRecvView();
            vo.reset();

            while (rit.hasNext()) {
                // //System.out.println("2");
                Row rw = rit.next();
                sOutstanding = (Double)rw.getAttribute("tOutstanding");
                sEntityState = (String) rw.getAttribute("tEntityState");
                ////System.out.println("Considering Part: " + rw.getAttribute("TrlPart"));  
                ////System.out.println("sOutstanding: " + sOutstanding);
                ////System.out.println("sEntityState: " + sEntityState);
                ////System.out.println("-------------");
                if (sOutstanding == 0 || "1".equals(sEntityState)) {
                    Key skey = rit.getCurrentRow().getKey();
                    ////System.out.println("Removing Part: " + rw.getAttribute("TrlPart"));  
                    ////System.out.println("getCurrentRow 1: " + vo.getCurrentRow().getAttribute("TrlOrdline")); 
                    //ViewRowImpl impl = (ViewRowImpl)vo.getCurrentRow();  
                    ViewRowImpl impl = (ViewRowImpl)vo.getRow(skey);
                    ////System.out.println("getCurrentRow 2: " + vo.getCurrentRow().getAttribute("TrlOrdline"));
                    impl.removeFromCollection();
                }
                
            }
            System.out.println("Clear Fully Received parts:End  VO RowCount=" + vo.getRowCount());
            //printRecd();
        }
    
    public void printRecd() {
            ////System.out.println("printRecd()");
            RowSetIterator rit = getPOTranslinesRecvView().createRowSetIterator(null);
            rit.reset();

            while (rit.hasNext()) {
                // //System.out.println("2");
                Row rw = rit.next();
                //System.out.println(rw.getAttribute("TrlPart"));  
            }
            rit.closeRowSetIterator();
            //System.out.println("End"); 
        }
    
    public void clearFullyRetn() {
            //System.out.println("Clear Fully Returned parts:Start ");
            Double sOutstanding;
            String sEntityState;
            //RowSetIterator rit = getPOTranslinesRecvView().createRowSetIterator(null);
            RowSetIterator rit = getPOTranslinesRecvView().getRowSetIterator();
            rit.reset();
            ViewObject vo = getPOTranslinesRetView();
            vo.reset();

            while (rit.hasNext()) {
                // //System.out.println("2");
                Row rw = rit.next();
                sOutstanding = (Double)rw.getAttribute("tTotalRecvd") - (Double)rw.getAttribute("tTotalRetn");
                sEntityState = (String) rw.getAttribute("tEntityState");
                //System.out.println("Considering Part: " + rw.getAttribute("TrlPart"));  
                //System.out.println("sOutstanding:sEntityState " + sOutstanding + ":" + sEntityState);
                if (sOutstanding == 0 || "1".equals(sEntityState)) {
                    Key skey = rit.getCurrentRow().getKey();
                    //System.out.println("skey: " + skey);
                    //System.out.println("Removing Part: " + rw.getAttribute("TrlPart"));  
                    ////System.out.println("getCurrentRow 1: " + vo.getCurrentRow().getAttribute("TrlOrdline")); 
                    //ViewRowImpl impl = (ViewRowImpl)vo.getCurrentRow(); 
                    //System.out.println(vo.getRow(skey).getAttribute("TrlPart"));
                    ViewRowImpl impl = (ViewRowImpl)vo.getRow(skey);
                    ////System.out.println("getCurrentRow 2: " + vo.getCurrentRow().getAttribute("TrlOrdline"));
                    //System.out.println("impl.getAttribute:" + impl.getAttribute("TrlPart"));
                    impl.removeFromCollection();
                }
            }
            System.out.println("Clear Fully Returned parts:End ");
        }
    /**
     * This is the default constructor (do not remove).
     */
    public PORecvDataControlImpl() {
    }

    /**
     * Container's getter for POrdersView.
     * @return POrdersView
     */
    public ExtendedViewObjectImpl getPOrdersView() {
        return (ExtendedViewObjectImpl)findViewObject("POrdersView");
    }

    /**
     * Container's getter for POrderlinesView.
     * @return POrderlinesView
     */
    public POrderlinesViewImpl getPOrderlinesView() {
        return (POrderlinesViewImpl)findViewObject("POrderlinesView");
    }

    /**
     * Container's getter for POTransactionsRecvView.
     * @return POTransactionsRecvView
     */
    public POTransactionsRecvViewImpl getPOTransactionsRecvView() {
        return (POTransactionsRecvViewImpl)findViewObject("POTransactionsRecvView");
    }


    /**
     * Container's getter for POTranslinesView.
     * @return POTranslinesView
     */
    public POTranslinesViewImpl getPOTranslinesView() {
        return (POTranslinesViewImpl)findViewObject("POTranslinesView");
    }

    /**
     * Container's getter for POrdersComment.
     * @return POrdersComment
     */
    public ExtendedViewObjectImpl getPOrdersComment() {
        return (ExtendedViewObjectImpl)findViewObject("POrdersComment");
    }

    /**
     * Container's getter for POrderlinesComment.
     * @return POrderlinesComment
     */
    public ExtendedViewObjectImpl getPOrderlinesComment() {
        return (ExtendedViewObjectImpl)findViewObject("POrderlinesComment");
    }


    /**
     * Container's getter for POTranslinesRecvView.
     * @return POTranslinesRecvView
     */
    public POTranslinesViewImpl getPOTranslinesRecvView() {
        return (POTranslinesViewImpl)findViewObject("POTranslinesRecvView");
    }

    /**
     * Container's getter for R5fok1OrlLink1.
     * @return R5fok1OrlLink1
     */
    public ViewLinkImpl getR5fok1OrlLink1() {
        return (ViewLinkImpl)findViewLink("R5fok1OrlLink1");
    }

    /**
     * Container's getter for POrdersTransactionsLink1.
     * @return POrdersTransactionsLink1
     */
    public ViewLinkImpl getPOrdersTransactionsLink1() {
        return (ViewLinkImpl)findViewLink("POrdersTransactionsLink1");
    }


    /**
     * Container's getter for POrderlinesTranslinesLink1.
     * @return POrderlinesTranslinesLink1
     */
    public ViewLinkImpl getPOrderlinesTranslinesLink1() {
        return (ViewLinkImpl)findViewLink("POrderlinesTranslinesLink1");
    }

    /**
     * Container's getter for POrdersPCommentsLink1.
     * @return POrdersPCommentsLink1
     */
    public ViewLinkImpl getPOrdersPCommentsLink1() {
        return (ViewLinkImpl)findViewLink("POrdersPCommentsLink1");
    }

    /**
     * Container's getter for POrderlinesPOrderlinesCommentLink1.
     * @return POrderlinesPOrderlinesCommentLink1
     */
    public ViewLinkImpl getPOrderlinesPOrderlinesCommentLink1() {
        return (ViewLinkImpl)findViewLink("POrderlinesPOrderlinesCommentLink1");
    }


    /**
     * Container's getter for POTransactionsRecvTranslinesLink1.
     * @return POTransactionsRecvTranslinesLink1
     */
    public ViewLinkImpl getPOTransactionsRecvTranslinesLink1() {
        return (ViewLinkImpl)findViewLink("POTransactionsRecvTranslinesLink1");
    }

    /**
     * Container's getter for POTransactionsRetView.
     * @return POTransactionsRetView
     */
    public ExtendedViewObjectImpl getPOTransactionsRetView() {
        return (ExtendedViewObjectImpl)findViewObject("POTransactionsRetView");
    }

    /**
     * Container's getter for POrdersTransactionsRetLink1.
     * @return POrdersTransactionsRetLink1
     */
    public ViewLinkImpl getPOrdersTransactionsRetLink1() {
        return (ViewLinkImpl)findViewLink("POrdersTransactionsRetLink1");
    }

    /**
     * Container's getter for POTranslinesRetView.
     * @return POTranslinesRetView
     */
    public POTranslinesViewImpl getPOTranslinesRetView() {
        return (POTranslinesViewImpl)findViewObject("POTranslinesRetView");
    }

    /**
     * Container's getter for POTransactionsRetTranslinesLink1.
     * @return POTransactionsRetTranslinesLink1
     */
    public ViewLinkImpl getPOTransactionsRetTranslinesLink1() {
        return (ViewLinkImpl)findViewLink("POTransactionsRetTranslinesLink1");
    }

    /**
     * Container's getter for POTransactionsCompRcpts.
     * @return POTransactionsCompRcpts
     */
    public POTransactionsCompRcptsImpl getPOTransactionsCompRcpts() {
        return (POTransactionsCompRcptsImpl)findViewObject("POTransactionsCompRcpts");
    }


    /**
     * Container's getter for POTranslinesCompRcpts.
     * @return POTranslinesCompRcpts
     */
    public ExtendedViewObjectImpl getPOTranslinesCompRcpts() {
        return (ExtendedViewObjectImpl)findViewObject("POTranslinesCompRcpts");
    }

    /**
     * Container's getter for POTraCompRcptTrlCompRcptLink1.
     * @return POTraCompRcptTrlCompRcptLink1
     */
    public ViewLinkImpl getPOTraCompRcptTrlCompRcptLink1() {
        return (ViewLinkImpl)findViewLink("POTraCompRcptTrlCompRcptLink1");
    }


    /**
     * Container's getter for POParts1.
     * @return POParts1
     */
    public ExtendedViewObjectImpl getPOParts() {
        return (ExtendedViewObjectImpl)findViewObject("POParts");
    }

    /**
     * Container's getter for POrderlinesPOPartsLink1.
     * @return POrderlinesPOPartsLink1
     */
    public ViewLinkImpl getPOrderlinesPOPartsLink1() {
        return (ViewLinkImpl)findViewLink("POrderlinesPOPartsLink1");
    }


    /**
     * Container's getter for TaxRateValuesView1.
     * @return TaxRateValuesView1
     */
    public ExtendedViewObjectImpl getTaxRateValuesView() {
        return (ExtendedViewObjectImpl)findViewObject("TaxRateValuesView");
    }

    /**
     * Container's getter for POPartsTaxLink1.
     * @return POPartsTaxLink1
     */
    public ViewLinkImpl getPOPartsTaxLink1() {
        return (ViewLinkImpl)findViewLink("POPartsTaxLink1");
    }

    /**
     * Container's getter for POExchargesView1.
     * @return POExchargesView1
     */
    public ExtendedViewObjectImpl getPOExchargesView() {
        return (ExtendedViewObjectImpl)findViewObject("POExchargesView");
    }

    /**
     * Container's getter for POOrderlinesExchargesLink1.
     * @return POOrderlinesExchargesLink1
     */
    public ViewLinkImpl getPOOrderlinesExchargesLink1() {
        return (ViewLinkImpl)findViewLink("POOrderlinesExchargesLink1");
    }
}
